<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>WIND CLIENT | Cloud Account</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background: #030306; color: white; font-family: 'Montserrat', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; }
        .card { background: #090812; padding: 40px; border-radius: 30px; border: 2px solid #c084fc; text-align: center; width: 400px; box-shadow: 0 0 30px rgba(192, 132, 252, 0.2); transition: 0.5s; }
        h1 { font-family: 'Orbitron', sans-serif; color: #c084fc; font-size: 24px; margin-bottom: 25px; }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #0d0d1a; border: 1px solid #2e2a5e; border-radius: 10px; color: white; box-sizing: border-box; outline: none; }
        button { width: 100%; padding: 15px; margin-top: 15px; background: #c084fc; border: none; border-radius: 12px; color: black; font-weight: bold; cursor: pointer; transition: 0.3s; font-size: 16px; }
        button:hover { background: #FFFFFF; transform: scale(1.02); }
        .hidden { display: none; }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ì–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏) */
        .user-info { background: #16162e; padding: 15px; border-radius: 15px; margin-bottom: 20px; border-left: 4px solid #c084fc; text-align: left; }
        .btn-download { background: #4ade80; color: black; margin-bottom: 10px; }
        .btn-buy { background: #fbbf24; color: black; }
        .status-msg { font-size: 13px; margin-top: 10px; color: #ef4444; }
    </style>
</head>
<body>

<div id="regScreen" class="card">
    <h1>WIND REGISTRATION</h1>
    <input type="text" id="user" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∏–∫">
    <input type="password" id="pass" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å">
    <button onclick="register()">–°–û–ó–î–ê–¢–¨ –ê–ö–ö–ê–£–ù–¢</button>
    <div id="status" class="status-msg" style="color: #888;">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞</div>
</div>

<div id="mainScreen" class="card hidden">
    <h1>WIND DASHBOARD</h1>
    <div class="user-info">
        <div id="displayUser" style="font-weight: bold; font-size: 18px;">USER: -</div>
        <div id="displayUUID" style="color: #c084fc;">UUID: #0</div>
    </div>
    
    <p style="font-size: 14px; color: #aaa;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Wind Client Cloud!</p>
    
    <button class="btn-download" onclick="window.location.href='https://github.com/WindClientFun/windclient/raw/main/launcher.exe'">
        üì• –°–ö–ê–ß–ê–¢–¨ –õ–ê–£–ù–ß–ï–† (.EXE)
    </button>
    
    <button class="btn-buy" onclick="window.open('https://t.me/TetrisWindClientbot', '_blank')">
        ‚≠ê –ö–£–ü–ò–¢–¨ VIP / –ü–û–î–ü–ò–°–ö–£
    </button>
    
    <p style="font-size: 11px; margin-top: 15px; color: #555;">–ü–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞.</p>
</div>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyDy4mU5xpso1OtTA86rbABnwXU6xH_Y5Jk",
        databaseURL: "https://windclient111-default-rtdb.firebaseio.com",
        projectId: "windclient111",
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    async function register() {
        const user = document.getElementById('user').value.trim();
        const pass = document.getElementById('pass').value.trim();
        const status = document.getElementById('status');

        if (!user || !pass) { status.innerText = "‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è!"; return; }

        status.innerText = "‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞...";
        
        try {
            const userRef = db.ref('users/' + user);
            const snapshot = await userRef.once('value');

            if (snapshot.exists()) {
                status.innerText = "‚ùå –≠—Ç–æ—Ç –Ω–∏–∫ —É–∂–µ –∑–∞–Ω—è—Ç!";
            } else {
                const countRef = db.ref('users_count');
                const countSnap = await countRef.once('value');
                let newUUID = (countSnap.val() || 0) + 1;

                await userRef.set({ password: pass, uuid: newUUID });
                await countRef.set(newUUID);

                // –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –≠–ö–†–ê–ù–û–í
                document.getElementById('displayUser').innerText = "USER: " + user.toUpperCase();
                document.getElementById('displayUUID').innerText = "UUID: #" + newUUID;
                
                document.getElementById('regScreen').classList.add('hidden');
                document.getElementById('mainScreen').classList.remove('hidden');
            }
        } catch (e) {
            status.innerText = "‚ùå –û—à–∏–±–∫–∞ –±–∞–∑—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Rules!";
        }
    }
</script>
</body>
</html>
